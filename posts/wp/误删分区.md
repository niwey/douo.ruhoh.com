---
date: '2012-06-28'
layout: post
title: 误删分区
tags: []
categories:
- life
status: draft
type: post
published: false
meta:
  _edit_last: '1'
postid: '850'
guid: http://dourok.info/?p=850
---
用windows自带的分区工具删除上次装黑苹果时的临时分区竟然出问题了。把我另外一个1.7tb的大分区也删掉了。我怀疑是交叉分区导致的(分区助手专业版4.0
分的)，这个1.7tb分区有着500gb左右的数据。十分珍贵。幸好，据我所知删除分区只是修改位于硬盘头的分区表而已。不会对真正分区内容做什么更改。恢复应该时可以的。
一开始用diskgenius，看着它的恢复速度十分蛋疼，每秒还不知有没有一个柱面，而我的大硬盘有24多万个柱面。而且用的算法还是不精确的快速算法，应是只检测每个磁道的第一个扇区。如果是完全扫描速度应该慢个255倍。diskgenius还有提供自己规定柱面范围恢复的功能，不知为什么这个选项是灰色的无效状态。如果可以用就方便许多了。
用了另外一个软件Acronis Disk Director（ADD）
ADD功能很强大，也很好用。恢复分区的功能也提供了两种算法，快速和完全。后来我用快速扫了快1个小时没扫到。用完全扫不到1分钟就找到了第一个分区。是那个原本要删掉的分区。看来它的位置还是很靠前的。因为分区的建立和删除只关系到硬盘的分区表，对实际内容不会有影响。接下来继续扫，希望能恢复到令一个分区，两个小时过去了，还是没有找到，最可怕的那条进度栏连1%也没跳出来。果断停止。又用快速扫了将近一个小时又没有。幸好ADD还提供有hex
编辑器。打开那块未分配的区域一看一开始都是00。拉了很多才看到有数据的内容。分区头的区域大概就在有数据和无数据的边界。用二分法手工查找，很快就定位到这个交界附近，看了一下，跟开始的距离有90831767040(346795155
柱面：21587|524200950
柱面：32630)个扇区，大概就是80多G的数据了，难怪这么慢。但是ADD竟然没有精准分区的功能，害我不敢乱分。怕覆盖掉实际原本的分区。
回到diskgenius，惊奇的发现它居然有按照柱面精确分区的功能。太适合了。
再回到ADD用快速扫描一下，没想到很快就把那个1t多的分区给找出来了。
